import{j as e,a as D,B as S,c as u}from"./config.DA722Lej.js";import{r as g}from"./index.BVn2TZg3.js";import{u as I,a as L,F as P,b as a,c as l,d as f,e as R,G as T}from"./google-login-button.PYogUplw.js";import{I as c}from"./input.BGbgNwpT.js";import{t as d}from"./index.DTvBjT24.js";import{c as b}from"./createLucideIcon.Cw3puCNq.js";import{o as z,s as m}from"./types.C7jWjZvw.js";import"./label.C2QC9qaa.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],j=b("eye-off",M);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],w=b("eye",O),$=z({dni:m().min(8,{message:"El DNI debe tener al menos 8 caracteres."}).max(8,{message:"El DNI no debe exceder los 8 caracteres."}).regex(/^[0-9]+$/,{message:"El DNI solo debe contener números."}),email:m().email({message:"Por favor, ingresa una dirección de correo válida."}).min(1,{message:"El correo electrónico es obligatorio."}),password:m().min(8,{message:"La contraseña debe tener al menos 8 caracteres."}).max(20,{message:"La contraseña no debe exceder los 20 caracteres."}).regex(/[A-Z]/,{message:"Debe contener al menos una letra mayúscula."}).regex(/[0-9]/,{message:"Debe contener al menos un número."}),password_confirmation:m().min(1,{message:"Debes confirmar tu contraseña."})}).refine(t=>t.password===t.password_confirmation,{message:"Las contraseñas no coinciden.",path:["password_confirmation"]});function B({className:t,...N}){const[x,y]=g.useState(!1),[p,v]=g.useState(!1),{register:n,handleSubmit:_,formState:{errors:s,isSubmitting:h},reset:C}=I({resolver:L($),defaultValues:{dni:"",email:"",password:"",password_confirmation:""}});async function E(i){try{const r=await fetch(`${u.apiUrl}${u.endpoints.auth.register}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dni:i.dni,email:i.email,password:i.password,password_confirmation:i.password_confirmation})});if(r.ok){const o=await r.json();d.success("¡Registro exitoso!",{description:"Tu cuenta ha sido creada. Redirigiendo al inicio de sesión."}),C(),setTimeout(()=>{window.location.href="/academico"},2e3)}else{const o=await r.json();o.errors?Object.keys(o.errors).forEach(F=>{o.errors[F].forEach(k=>{d.error(k)})}):d.error(`Error: ${o.message||"Algo salió mal durante el registro."}`)}}catch(r){console.error("Error de registro:",r),d.error("Hubo un error al conectar con el servidor.")}}return e.jsx("div",{className:D("flex flex-col gap-6",t),...N,children:e.jsxs(P,{children:[e.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Crea tu cuenta"}),e.jsx("p",{className:"text-muted-foreground text-sm text-balance",children:"Completa los datos para registrarte en la plataforma"})]}),e.jsxs(a,{children:[e.jsx(l,{htmlFor:"dni",children:"DNI / Documento"}),e.jsx(c,{id:"dni",type:"text",placeholder:"12345678",maxLength:12,...n("dni")}),s.dni&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:s.dni.message})]}),e.jsxs(a,{children:[e.jsx(l,{htmlFor:"email",children:"Correo Electrónico"}),e.jsx(c,{id:"email",type:"email",placeholder:"tu@correo.com",...n("email")}),s.email&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:s.email.message})]}),e.jsxs(a,{children:[e.jsx(l,{htmlFor:"password",children:"Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{id:"password",type:x?"text":"password",placeholder:"Mínimo 8 caracteres",className:"pr-10",...n("password")}),e.jsx("button",{type:"button",onClick:()=>y(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:x?e.jsx(j,{className:"h-4 w-4"}):e.jsx(w,{className:"h-4 w-4"})})]}),s.password&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:s.password.message}),e.jsx(f,{className:"text-xs",children:"Debe contener al menos 8 caracteres, una mayúscula y un número"})]}),e.jsxs(a,{children:[e.jsx(l,{htmlFor:"password_confirmation",children:"Confirmar Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{id:"password_confirmation",type:p?"text":"password",placeholder:"Repite tu contraseña",className:"pr-10",...n("password_confirmation")}),e.jsx("button",{type:"button",onClick:()=>v(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:p?e.jsx(j,{className:"h-4 w-4"}):e.jsx(w,{className:"h-4 w-4"})})]}),s.password_confirmation&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:s.password_confirmation.message})]}),e.jsx(a,{children:e.jsx(S,{type:"button",onClick:_(E),disabled:h,className:"w-full",children:h?"Creando cuenta...":"Crear cuenta"})}),e.jsx(R,{children:"O regístrate con"}),e.jsxs(a,{children:[e.jsx(T,{text:"Registrarse con Google"}),e.jsxs(f,{className:"text-center",children:["¿Ya tienes una cuenta?"," ",e.jsx("a",{href:"/academico",className:"underline underline-offset-4 hover:text-primary transition-colors",children:"Inicia sesión"})]})]})]})})}function Z(){return e.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2",children:[e.jsx("div",{className:"hidden md:block",children:e.jsx("img",{src:"/academico/images/bg-login-pc.webp",alt:"Imagen de bienvenida",className:"w-md h-md lg:w-lg lg:h-lg xl:w-5xl xl:h-5xl",loading:"lazy"})}),e.jsxs("div",{className:"md:hidden w-full relative p-0",children:[e.jsx("div",{className:"m-0 h-full w-full absolute",children:e.jsx("div",{className:"overflow-hidden h-full absolute w-full",children:e.jsx("img",{src:"/academico/images/bg-message.webp",alt:" Imagen de bienvenida",className:"w-full h-full scale-160 object-cover",loading:"lazy"})})}),e.jsxs("div",{className:"relative w-full h-full pt-18 p-8 md:p-10 md:pb-0 sm:p-15 sm:pb-0 pb-0",children:[e.jsx("div",{className:"",children:e.jsx("h1",{className:"text-5xl sm:text-6xl font-semibold mb-2 text-white",children:"¡Bienvenido!"})}),e.jsxs("div",{className:"flex w-full mb-0 p-0 justify-between flex-wrap",children:[e.jsx("p",{className:"w-1/2 text-xl sm:text-3xl font-light text-white",children:"Que esperas para capacitarte."}),e.jsx("div",{className:"w-1/2",children:e.jsx("img",{src:"/academico/images/bg-login-guy.webp",alt:"Imagen de bienvenida",className:"object-cover scale-x-[-1]",loading:"lazy"})})]})]})]}),e.jsx("div",{className:"flex items-center justify-center px-5 sm:px-10 lg:px-0 md:rounded-none md:mt-0 rounded-b-none rounded-4xl z-20 mt-[-50px] bg-theme-night pt-10",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsx(B,{})})})]})}export{Z as RegisterPage};
